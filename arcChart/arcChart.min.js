function arcChart(t,e,a){function i(){var t=r.maxVal.toString().length+r.textPrefix.length+r.textSuffix.length+(r.decimalPlaces>0?r.decimalPlaces+1:0),e=(r.numSeparator?o(r.maxVal).toString().length:r.maxVal.toString().length)+r.textPrefix.length+r.textSuffix.length+(r.decimalPlaces>0?r.decimalPlaces+1:0),a=7>e?.06+.02*t:.2,i=a*r.arcRadius/e;return i}function l(){$({someValue:0}).animate({someValue:e},{duration:r.duration,easing:r.easing,step:function(){n(this.someValue.toFixed(r.decimalPlaces),this.someValue/r.maxVal)},complete:function(){n(this.someValue.toFixed(r.decimalPlaces),this.someValue/r.maxVal)}})}function n(t,e){s.clearRect(0,0,c.width,c.height),s.fillText(r.textPrefix+(r.numSeparator?o(t):t)+r.textSuffix,f,m),s.beginPath(),r.glow&&(s.shadowBlur=r.glowSpread,s.shadowColor=r.color),s.arc(f,m,r.arcRadius,-h,u*e-h,!1),s.stroke(),r.glow&&(s.shadowBlur=0)}function o(t){for(;/(\d+)(\d{3})/.test(t.toString());)t=t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,");return t}var r=$.extend({arcRadius:70,canvasHeight:180,canvasWidth:180,color:"#AAA",decimalPlaces:0,duration:2500,easing:"easeOutQuart",fontBold:!0,fontFamily:"Arial",fontSize:"auto",glow:!1,glowSpread:10,lineCap:"square",lineWidth:8,maxVal:100,numSeparator:!0,textPrefix:"",textSuffix:"",viewportDelay:!0},a),d=document.getElementById(t),c=document.createElement("canvas");c.setAttribute("width",r.canvasWidth),c.setAttribute("height",r.canvasHeight),d.appendChild(c);var s=c.getContext("2d"),u=2*Math.PI,h=Math.PI/2,f=c.width/2,m=c.height/2;if(s.lineCap=r.lineCap,s.lineWidth=r.lineWidth,s.strokeStyle=r.color,s.font=(r.fontBold?"bold ":"")+("auto"==r.fontSize?i().toString()+"em ":r.fontSize+" ")+("'"+r.fontFamily+"'"),s.fillStyle=r.color,s.textAlign="center",s.textBaseline="middle",r.viewportDelay){$("#"+t).waypoint(function(t){l(),this.destroy()},{offset:"bottom-in-view"})}else l()}